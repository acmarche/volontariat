{% extends '@Volontariat/base.html.twig' %}
{% block title %}Les volontaires{% endblock %}
{% block body %}

    <div class="bg-white py-8 sm:py-12">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <div class="mx-auto max-w-2xl lg:mx-0 border-b border-gray-200 pb-5">
                <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                    Nos {{ volontaires|length }} volontaires
                </h2>
                <p class="mt-4 text-lg leading-8 text-gray-600">
                    <a href="{{ path('volontariat_backend_besoin_new') }}"
                       class="inline-flex items-center text-emerald-600 hover:text-emerald-700 font-medium transition-colors">
                        <i class="ti ti-send mr-2"></i>
                        Publier une annonce pour tous les volontaires
                    </a>
                </p>
            </div>

            <div class="mt-8 mb-10">
                {{ form_start(search_form, {'method': 'GET', 'attr': {'class': 'flex flex-wrap items-end gap-4'}}) }}
                    <div class="flex-1 min-w-[180px]">
                        {{ form_widget(search_form.nom, {'attr': {'class': 'block w-full rounded-lg border-0 py-2.5 px-4 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6', 'placeholder': 'Rechercher par nom...'}}) }}
                    </div>
                    <div class="min-w-[180px]">
                        {{ form_widget(search_form.city, {'attr': {'class': 'block w-full rounded-lg border-0 py-2.5 px-4 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6'}}) }}
                    </div>
                    <div class="min-w-[180px]">
                        {{ form_label(search_form.createdAt, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-1'}}) }}
                        {{ form_widget(search_form.createdAt, {'attr': {'class': 'block w-full rounded-lg border-0 py-2.5 px-4 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6'}}) }}
                    </div>
                    <div>
                        <button type="submit"
                                class="inline-flex items-center px-5 py-2.5 rounded-full bg-emerald-600 text-white font-semibold hover:bg-emerald-700 transition-all shadow-md hover:shadow-lg">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            Rechercher
                        </button>
                    </div>
                {{ form_end(search_form) }}
            </div>

            {% if search and volontaires|length == 0 %}
                <div class="text-center py-12">
                    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor"
                         viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                    <h3 class="mt-2 text-sm font-medium text-gray-900">Aucun résultat</h3>
                    <p class="mt-1 text-sm text-gray-500">Essayez avec d'autres critères de recherche.</p>
                </div>
            {% else %}
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-x-8 gap-y-10">
                    {% for volontaire in volontaires %}
                        <a href="{{ path('volontariat_volontaire_show', {'uuid': volontaire.uuid}) }}"
                           class="group text-center">
                            <div class="mx-auto w-24 h-24 rounded-full overflow-hidden bg-gray-100 ring-2 ring-white shadow-md group-hover:ring-emerald-200 group-hover:shadow-lg transition-all duration-300">
                                {% if volontaire.imageName %}
                                    <img class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                                         src="{{ vich_uploader_asset(volontaire, 'image') | imagine_filter('acmarche_volontariat_index') }}"
                                         alt="{{ volontaire.surname }}">
                                {% else %}
                                    <svg class="w-full h-full text-gray-300 p-5" fill="currentColor"
                                         viewBox="0 0 24 24">
                                        <path d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"/>
                                    </svg>
                                {% endif %}
                            </div>
                            <h3 class="mt-4 text-base font-semibold leading-7 tracking-tight text-gray-900 group-hover:text-emerald-700 transition-colors">
                                {{ volontaire.surname }}
                            </h3>
                            <p class="text-sm leading-6 text-gray-500">{{ volontaire.city }}</p>
                        </a>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>

{% endblock %}
